#!/bin/bash
BROKEN="t3btch095.mit.edu t3btch096.mit.edu t3btch097.mit.edu t3btch098.mit.edu t3btch099.mit.edu t3btch104.mit.edu t3btch105.mit.edu t3btch106.mit.edu t3btch107.mit.edu t3btch108.mit.edu t3btch109.mit.edu t3btch110.mit.edu t3serv015.mit.edu "

hosts=( t3btch106.mit.edu t3btch107.mit.edu t3btch108.mit.edu t3btch109.mit.edu t3btch110.mit.edu t3serv015.mit.edu )
files=( /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/6A833F8A-82D6-7E4E-8C51-4D434EE52BF0_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/6C707023-5210-2044-8120-131183F0F62E_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/6E8F7040-0626-F144-9211-392A67E17014_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/6E97D110-4889-7540-986F-8E13A1476E53_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/6ECC56E1-7BB6-4E4F-A599-B9FFC7A7BB43_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/6FED8155-6069-2441-B18D-5F2E59E8E512_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/6FEFF9C0-A748-3446-A67B-8FE319D4389D_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/70066C7E-62EF-B547-B7C6-C5A4CA4742B2_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/701B6B26-AD16-F942-BF48-4BEAEFF3C1D2_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/70239438-20E1-C841-B619-1053519A38DD_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/70242EA0-C047-9B46-8C38-8DDA50603C9F_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/716B70B3-EA68-EC4C-8516-DB4EDC2B9908_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/732D817F-54BE-5846-886A-20AB048B1409_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/74005F1D-0A26-3B48-B787-0EE9630A0CA2_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/7432242A-740E-D644-8256-91CAC9563E84_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/74B9D064-8DB5-2846-8C3F-F65E5C8EA8A5_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/76F55B10-C793-424B-BDFB-71C38C24A085_tmp.root /cms/store/user/paus/nanoao/520/ParkingBPH5+Run2018C-UL2018_MiniAODv2-v1+MINIAOD/tmp_0_230204_213132/7DD2CA9C-D741-DE43-AA04-8DBAAF51A6AA_tmp.root )

for i in "${!hosts[@]}"
do

  printf "H: %s  -> F: %s\n" "${hosts[i]}" "${files[i]}"
  ssh "${hosts[i]}" " voms-proxy-init; checkFile.py  ${files[i]} "
  

done
